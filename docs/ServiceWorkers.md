# Service Workers

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**

- [Summary](#summary)
- [Debugging](#debugging)
- [References](#references)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## Summary

A [service worker][] is included in the app that caches resources before they are
requested (precaching). It also has the ability to intercept any network requests
that pages make in order to respond to them faster than the Application Server,
or operate when offline.

The service worker is generated by the [Workbox][] webpack plugin from Google.
This plugin finds the JavaScript assets generated by webpack, maps them to the
URLs they will be served from by the Application Server, then generates a
`sw.js` file that precaches those URLs.

## Debugging

Service workers can introduce confusing behavior in your web browser. If you’ve
been running the Application Server locally, and start a totally unrelated web
server on the same port, an old service worker could still be activated in your
web browser, potentially serving resources from a version of the Application
Server that has long since been shut down.

In the Chrome Developer Tools, you should be able to inspect service workers by
opening the Application panel and selecting the Service Workers tab. This will
tell you if there are any service workers running and what their statuses are.
If you suspect a service worker is interfering with your page or has not updated
properly, try clicking Unregister and reloading the page.

To see what network requests have been handled by the service worker, open the
Network panel and look at the Size column. It will say “(from ServiceWorker)” if
the response came from the service worker instead of the actual host. You should
not see any “(from ServiceWorker)” entries when running the development server –
if you do, something is misconfigured or a production service worker is still
controlling the page.

## References

* [MDN: Service Worker API](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API)
* [Google Developers: Service Workers: an Introduction](https://developers.google.com/web/fundamentals/getting-started/primers/service-workers)
* [Google Developers: The Service Worker Lifecycle](https://developers.google.com/web/fundamentals/instant-and-offline/service-worker/lifecycle)

[Service Worker]: https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API
[Workbox]: https://workboxjs.org/
